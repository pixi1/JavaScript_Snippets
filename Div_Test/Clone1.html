<!DOCTYPE html>
<html>

<head>
    <title>Clone1</title>

    <meta charset="ISO-8859-1">
  
   <!--  <script src="daten1/jquery.js"></script> -->
    <script>


    //Kann tief Kopieren Arrays und Objekte!! 
    Object.prototype.clone = function clone(o)
    {
        var o =  o || this;
        //Neues Objekt Erzeugen
        if (o instanceof Array)//Array und Object sind instanceof Object
            var newObj = [];   //Aber nur Array ist instanceof Array!
        else
            var newObj = {};

        //Objekt besteht immer aus {name : wert, usw.} paaren.
        // for in Schleife durchläuft alle namen der Paare.
        for (var name in o)
        {
            //Object und Array werden durch '!' oder '!=' als false_
            //ausgewertet so das else Teil
            if(typeof o[name] != 'object')
          //if(!((o[name]) instanceof Object))
            {
                //Eigenschaften Kopieren von alt zu neuem Objekt bzw. Array
                //alert ('name: ' + name + '\no[name]: ' + o[name] );
                newObj[name] = o[name];
            }
            else
            {
                //Rekursives tiefes Kopieren
                //alert ('eigens: ' + eigens + '\no[eigens]: ' + o[eigens] );
                newObj[name] = clone(o[name]);
            }
        }
        return newObj;
    }

    var arr1 = [5,2,[77,{m: 1000}],{a:{b:88}},9,'55'];

    //2. Möglichkeit tief zu Kopieren!!!
    //Aber nicht auf IE! :(
    //var arr2 = JSON.parse(JSON.stringify(arr1));
    
    
    //Nichts geht!! :(((((
    //var arr2 = $.extend(true, {}, arr1);
    //var arr2 = $(arr1).clone();
    //var arr2 = $.extend({}, obj);

    
    //Alles nur Flach! :(
    //var arr2 = Object.create(arr1);
    //arr2 = [].concat(arr1);
    //arr2 = arr1.slice();
    var arr2 = arr1.clone();
    
    //Referenz Kopie! :(
    //var arr2 = arr1;



    //Aendern immer 2. Array um zu Beweisen das es verschiedene Objekte sind!
    arr2[1] =  100;
    arr2[2][1].m = 1111;
    arr2[5] = '666';
    arr2[3].a.b = '20000';

    //Ausgeben immer zuerst 1. Array um zu zeigen nicht mitgeändert.
    document.write('arr1: ' + arr1 + '<br>');
    document.write('arr2: ' + arr2 + '<br><br>');

    document.write('arr1[3].a: ' + arr1[3].a + '<br>');
    document.write('arr2[3].a: ' + arr2[3].a + '<br><br>');

    document.write('arr1[3].a.b: ' + arr1[3].a.b + '<br>');
    document.write('arr2[3].a.b: ' + arr2[3].a.b + '<br><br>');

    document.write('arr1[2][1].m: ' + arr1[2][1].m + '<br>');
    document.write('arr2[2][1].m: ' + arr2[2][1].m + '<br><br>');

</script>  

</head>

<body style="font-size: 30px">

</body>
</html>